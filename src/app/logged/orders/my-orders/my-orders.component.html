<div class="pb-4">
   <mat-card [ngClass.lt-sm]="'mt-6'" [ngClass]="['card-shadow', 'mt-5']">
      <mat-card-title fxLayout="row" fxLayoutAlign="end start">
         <div>
            <button mat-icon-button [matMenuTriggerFor]="menuUser">
               <mat-icon [color]="'primary'" class="medium">scatter_plot</mat-icon>
            </button>
         </div>
      </mat-card-title>
      <mat-card-content fxLayout="column">
         <div fxFlex="100" class="separator separator-center mt-1">
            <span class="mx-2 text-secondary">
               {{ this.historicOrdersShow ? "Historial de pedidos" : "Pedidos activos" }}
            </span>
            <!-- <mat-icon class="mx-2 text-secondary">beenhere</mat-icon> -->
         </div>
         <div class="mt-2 mx-2">
            <mat-form-field fxFlex="100">
               <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Búsqueda rápida" />
            </mat-form-field>
         </div>
         <table mat-table matSort [dataSource]="dataSource" class="ordersTable mat-elevation-z0 mt-0">
            <!-- CIF Column -->
            <ng-container matColumnDef="id">
               <th mat-sort-header mat-header-cell *matHeaderCellDef>#</th>
               <td mat-cell *matCellDef="let data">{{ data.id }}</td>
            </ng-container>
            <!-- Date Column -->
            <ng-container matColumnDef="date">
               <th mat-sort-header mat-header-cell *matHeaderCellDef>Fecha</th>
               <td mat-cell *matCellDef="let data">{{ data.dateOrdered | date: "dd/MM/yyyy" }}</td>
            </ng-container>

            <!-- name Column -->
            <ng-container matColumnDef="campus">
               <th mat-sort-header mat-header-cell *matHeaderCellDef>Sede</th>
               <td mat-cell *matCellDef="let data">{{ data.campus.name }}</td>
            </ng-container>

            <!-- surname Column -->
            <ng-container matColumnDef="state">
               <th mat-sort-header mat-header-cell *matHeaderCellDef>Estado</th>
               <td mat-cell *matCellDef="let data">{{ data.state.name }}</td>
            </ng-container>

            <!-- typeDoc Column -->
            <ng-container matColumnDef="totalPrice">
               <th mat-header-cell *matHeaderCellDef>Precio</th>
               <td mat-cell *matCellDef="let data">{{ data.totalPrice | moneda }}</td>
            </ng-container>

            <!-- typeDoc Column -->
            <ng-container matColumnDef="actions">
               <th mat-header-cell *matHeaderCellDef></th>
               <td mat-cell *matCellDef="let data">
                  <!-- Detail button -->

                  <button (click)="onClickOrderDetail(data)" mat-icon-button color="primary">
                     <mat-icon class="medium " [color]="'primary'" matTooltip="Ver detalles del pedido">loupe</mat-icon>
                  </button>
               </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
         </table>

         <mat-paginator fxFlex="100" pageSize="10" showFirstLastButtons></mat-paginator>
      </mat-card-content>
   </mat-card>
</div>
<mat-menu #menuUser="matMenu" style="min-width: 600px !important;">
   <button *ngIf="!this.historicOrdersShow; else activeOrdersShow" mat-menu-item fxLayoutAlign="start center"
      (click)="this.getHistoricOrders()">
      <mat-icon>find_replace</mat-icon>
      <span>Mostrar el historial de pedidos</span>
   </button>
   <ng-template #activeOrdersShow>
      <button (click)="getActiveOrders()" mat-menu-item fxLayoutAlign="start center">
         <mat-icon>youtube_searched_for</mat-icon>
         <span>Mostrar sólo los pedidos activos</span>
      </button>
   </ng-template>
</mat-menu>
<!-- <cei-alert-error #alertError></cei-alert-error> -->